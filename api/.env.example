# API Environment Configuration
# This file serves as a template for all environment variables used in the application
# Copy this file to .env and fill in your values
# ----------------------------------------------------------------------------

# =============================================================================
# Environment and Debug Settings
# =============================================================================
# Environment setting - development for local development, production for production
ENVIRONMENT=development
# Debug mode - enabled for development
DEBUG=true

# =============================================================================
# OpenAI API Configuration
# =============================================================================
# OpenAI API key (required for LLM and embeddings via AISuite)
OPENAI_API_KEY=
# Model ID with provider prefix for AISuite (format: "provider:model")
# Examples: openai:gpt-4o-mini, openai:gpt-4o, anthropic:claude-3-5-sonnet
OPENAI_MODEL=openai:gpt-4o-mini
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
MAX_TOKENS=4096
# Temperature for LLM responses (0.0-2.0, default: 0.7)
LLM_TEMPERATURE=0.7

# =============================================================================
# API Configuration
# =============================================================================
# Admin API key for protected endpoints
ADMIN_API_KEY=dev_admin_key

# =============================================================================
# External API Configuration
# =============================================================================
# Bisq API URL - local development URL (Docker uses a different network address)
BISQ_API_URL=http://localhost:8090

# Support agent nicknames (comma-separated list of official support staff)
# Required for FAQ extraction from support chats
# Example: SUPPORT_AGENT_NICKNAMES=suddenwhipvapor,strayorigin,toruk-makto
# If not configured, no messages will be marked as support messages
SUPPORT_AGENT_NICKNAMES=

# =============================================================================
# CORS Configuration
# =============================================================================
# CORS_ORIGINS for local direct development - comma-separated values
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# =============================================================================
# Data Directory Configuration
# =============================================================================
# Base directory for all data files
DATA_DIR=api/data

# =============================================================================
# RAG Service Configuration
# =============================================================================
# Maximum number of chat history entries to include
MAX_CHAT_HISTORY_LENGTH=10
# Maximum length of context to include in prompt
MAX_CONTEXT_LENGTH=15000
# Maximum length to log in samples
MAX_SAMPLE_LOG_LENGTH=200

# =============================================================================
# Admin Settings
# =============================================================================
# Maximum number of unique issues to track in analytics
MAX_UNIQUE_ISSUES=15

# =============================================================================
# Matrix Integration Configuration
# =============================================================================
# Matrix credentials are used for BOTH:
# 1. Shadow Mode - polling staff answers for FAQ extraction
# 2. Alert notifications - forwarding Prometheus alerts to Matrix rooms
#
# Using password-based auth (not tokens) provides:
# - Session persistence (no token timeouts)
# - Automatic token refresh on auth failures
# - Circuit breaker protection
#
# Matrix homeserver URL
MATRIX_HOMESERVER=https://matrix.org
# Matrix user ID (full format: @username:server)
MATRIX_USER=@bisq-alerts:matrix.org
# Matrix password (password-based auth recommended over tokens)
MATRIX_PASSWORD=
# Matrix room IDs for monitoring support chats (comma-separated)
# Find in Element: Room Settings → Advanced → Internal Room ID
MATRIX_ROOMS=

# Matrix alert room for Prometheus Alertmanager notifications
# This should be a separate room from support channels (e.g., a private ops room)
MATRIX_ALERT_ROOM=
